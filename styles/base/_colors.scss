/*
  color functions + mixins
*/

@function shade($color, $percentage) {
  @return mix(black, $color, $percentage);
}

@function tint($color, $percentage) {
  @return mix(white, $color, $percentage);
}

@function color-level($color: color(neutral), $level: 500, $color-interval: 18%) {
  @if ($level < 500) {
    $-color-percentage: $color-interval * ((500 - $level) / 100);
    @return tint($color, $-color-percentage);
  } @else if ($level > 500) {
    $-color-percentage: $color-interval * (($level - 500) / 100);
    @return shade($color, $-color-percentage);
  } @else {
    @return $color;
  }
}

@function contrast($color, $dark: color(text, dark), $light: color(text, light)) {
  @if (lightness($color) > 67) {
    @return $dark;
  } @else {
    @return $light;
  }
}

@mixin contrast($color, $dark: color(text, dark), $light: color(text, light)) {
  background: $color;
  color: contrast($color, $dark, $light);
}


/* primary + neutral colors */
$-meadow: #3e9d9d;
$-cloud: #fbfbfd;
$-pebble: #494d58;
$-storm: #d6dee1;

/* auxilliary colours */
$-grass: #69bda3;
$-sky: #699dbd;
$-peach: #f7d87f;
$-watermelon: #f77f7f;


/* initial color map */
$colors: (
  primary: $-meadow,
  black: $-pebble,
  neutral: $-storm,
  white: $-cloud,

  success: $-grass,
  info: $-sky,
  danger: $-watermelon,
  warning: $-peach,
);


@function color($keys...) {
  $value: $colors;

  @each $key in $keys {
    $value: map-get($value, $key);
  }

  @return $value;
}


/* additional colors */
$colors: map-merge($colors, (
  text: (
    dark: rgba(color(black), .8),
    dark-accent: color(black),
    dark-subtle: rgba(color(black), .6),

    light: rgba(color(white), .8),
    light-accent: color(white),
    light-subtle: rgba(color(white), .6),
  ),
));


/* neutral color map */
$color-neutral: (
  50: color-level(color(neutral), 50),
  100: color-level(color(neutral), 100),
  200: color-level(color(neutral), 200),
  300: color-level(color(neutral), 300),
  400: color-level(color(neutral), 400),
  500: color-level(color(neutral), 500),
  600: color-level(color(neutral), 600),
  700: color-level(color(neutral), 700),
  800: color-level(color(neutral), 800),
  900: color-level(color(neutral), 900),
);


@function color-neutral($level: 500) {
  @return map-get($color-neutral, $level);
}
